# C++学习笔记
## C++基础
### 变量和基本类型
#### 基本内置类型
##### 算术类型
`算术类型(arithmetic type)`分为两类：`整型(integral type)`和`浮点型`。

| 类型 | 含义 | 最小尺寸 |
|---|---|---|
| bool | 布尔类型 | `true`/`false` |
| char | 字符 | 8位 |
| wchar_t | 宽字符 | 16位 |
| char16_t | Unicode字符 | 16位 |
| char32_t | Unicode字符 | 32位 |
| short | 短整型 | 16位 |
| int | 整形 | 16位 |
| long | 长整型 | 32位 |
| long long | 长整形 | 64位 |
| float | 单精度浮点型 | 6位有效数字 |
| double | 双精度浮点型 | 10位有效数字 |
| long double | 扩展精度浮点型 | 10位有效数字 |

###### 带符号类型和无符号类型

除去布尔型和扩展字符型，其他整型可以划分为`带符号(signed)`和`无符号(unsigned)`两种。通常数据类型都是带符号的，若想让其无符号，在前加`unsigned`即可，如：unsigned long。unsigned int 可以直接写为unsigned。

`char`类型被分为三种：char，signed char和unsigned char。char类型根据编译器不同会选择有符号或无符号。

##### 类型转换

规则如下：

- 当把一个非布尔值赋值给布尔类型时，0为`false`，其他值为`ture`。并且，该布尔值只能是0或1。
- 当给一个浮点型赋值给整形时，会舍去小数点。
- 当把一个整型赋值给浮点型时，小数点会为0，且若整型超过浮点数的容量，精度会损失。
- 若符号类型超过它的表示范围，结果是`未定义的(undefined)`，可能会报错，崩溃或产生垃圾数据。

```c++
#include <iostream>
int main()
{
    bool b = 42;
    int  i = 3.14;
    unsigned char c = -1;
    int x = c;
    std::cout << b << std::endl;
    std::cout << i << std::endl;
    std::cout << x << std::endl;
    return 0;
}
//输出结果
1
3
255
```

###### 含有无符号类型的表达式

无符号数为了保证其不小于0，在参与运算和循环时，会将式子中的运算结果转换为无符号存储。因此可能会出现一下问题：

```c++
int Unsigned_Test()
{
    int u1 = -40;
    unsigned u2 = 20;
    std::cout << u1+u2 << std::endl;
    return 0;
}
//输出
4294967276
```

在一些以0为跳出条件的循环中，无符号数条件会成为死循环。

##### 字面值常量

一个可见的数可以叫`字面值常量(literal)`，如42。

###### 整形和浮点型字面值

对于整形字面值，可以用十进制，八进制和十六进制表示。其中八进制前加`0`，十六进制前加`0x`或`0X`。如：

```c++
//20的三种表示方式
20;//十进制
024; //八进制
0x14; //十六进制
```

通常，系统会选择合适的类型存储这些字面值，最小存储类型为`int`，若字面值大到无类型能存储，会被报错。

*十进制字面值没有负数*，形如-40这样的字面值，只是在40前加负号而已，其存储仍然是40。

浮点型字面值表现为一个小数或科学计数法表示的指数，其中指数部分用E或e标识，默认浮点型字面值为`double`类型。

```c++
3.14159;
3.14159E0;
0.;
0e0;
.001;
```

###### 字符和字符串字面值

用`单引号('')`括起来的字符称为char型**字符**字面值；用`双引号("")`括起来的零个或多个字符为**字符串**字面值。如：

```c++
'a'; //字符字面值
"a"; //字符串字面值
```

字符串在存储时为一个`数组(array)`，**字符串会在数组结尾添加一个空字符`'\0'`表示结尾，因此`"a"`比`'a'`的长度要多1**，两者有巨大区别。

如果两个字符串字面值位置紧邻且仅由空格，缩进和换行符分隔，则它们实际上是一个整体。

```c++
//分多行书写的字符串字面值
std::cout << "a really,really long string literal"
    "that spans two lines" << std::endl;
```

###### 转义序列

